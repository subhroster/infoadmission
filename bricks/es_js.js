/* JS merged. Author(s), copyright, license see in /w3t_js/jquery/validate/jquery.validate.min.js */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),
minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,
"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=
this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,
b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=
d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);
if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);
d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=
this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,
e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};
var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?
e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;
return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,
b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,
mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,
b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);

/* JS merged. Author(s), copyright, license see in /w3t_js/jquery/validate/additional-methods.pack.js */
jQuery.validator.addMethod("requiredWysiwyg",function(b,a,d){if(a.name==undefined||a.name==null){return true}var c=FCKeditorAPI.GetInstance(a.name);if(c==undefined||c==null){return true}return(c.GetXHTML().length>7)},jQuery.validator.format("Field is required"));jQuery.validator.addMethod("login",function(b,a){return this.optional(a)||/^[a-z\d\-]+$/i.test(b)},'Please enter only letters, digits or "-"');jQuery.validator.addMethod("alphaPlusNumeric",function(b,a){if(this.optional(a)){return true}if(!(/^[a-z\d \-]+$/i.test(b))){return false}if(!(/[a-z]/i.test(b))){return false}return true},"Letters are required and numbers are allowed");jQuery.validator.addMethod("numericPlusAlpha",function(b,a){if(this.optional(a)){return true}if(!(/^[a-z\d \-]+$/i.test(b))){return false}if(!(/[\d]/i.test(b))){return false}return true},"Numbers are required and letters are allowed");jQuery.validator.addMethod("phoneIntl",function(b,a){if(this.optional(a)){return true}if(!(/^[\d \+\(\)\-]+$/i.test(b))){return false}if(!(/[\d]/i.test(b))){return false}return true},"Please specify a valid phone number");jQuery.validator.addMethod("deadlines_order",function(c,b){var d=jQuery("#id_deadline_date").datepicker("getDate");var a=jQuery("#id_deadline_draft_date").datepicker("getDate");if(a==null||d==null){return true}if(a<d){return true}return false},"Draft deadline must be earler than final deadline date.");jQuery.validator.addMethod("ps_pages",function(e,b){var f=jQuery("#id_pages_qty option:selected").val();var d=jQuery("#id_slides_qty option:selected").val();var c=parseInt(jQuery("#id_pages_qty option:selected").val()*1,10);var a=parseInt(jQuery("#id_slides_qty option:selected").val()*1,10);if(f==""||d==""){return true}if(c<1&&a==0){return false}return true},"Number of slides can't be zero, if you don't order any pages. Minimum order in this case is two slides.");jQuery.validator.addMethod("ps_slides",function(e,b){var f=jQuery("#id_pages_qty option:selected").val();var d=jQuery("#id_slides_qty option:selected").val();var c=parseInt(jQuery("#id_pages_qty option:selected").val()*1,10);var a=parseInt(jQuery("#id_slides_qty option:selected").val()*1,10);if(f==""||d==""){return true}if(c==0&&a<2){return false}return true},"Number of slides can't be zero, if you don't order any pages. Minimum order in this case is two slides.");(function(){function a(b){return b.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}jQuery.validator.addMethod("maxWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length<d},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d[0]&&c.match(/bw+b/g).length<d[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z-.,()'\"\s]+$/i.test(b)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^\w+$/i.test(b)},"Letters, numbers, spaces or underscores only please");jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},"No white space please");jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2}-\d{4}$/.test(b)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(o){if(o.length!=17){return false}var h,a,l,j,b,k;var c=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var m=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var g=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var e=0;for(h=0;h<17;h++){j=g[h];l=o.slice(h,h+1);if(h==8){k=l}if(!isNaN(l)){l*=j}else{for(a=0;a<c.length;a++){if(l.toUpperCase()===c[a]){l=m[a];l*=j;if(isNaN(k)&&a==8){k=c[a]}break}}}e+=l}b=e%11;if(b==10){b="X"}if(b==k){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(e,c){var a=false;var g=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(g.test(e)){var i=e.split("/");var d=parseInt(i[0],10);var b=parseInt(i[1],10);var f=parseInt(i[2],10);var h=new Date(f,b-1,d);if((h.getFullYear()==f)&&(h.getMonth()==b-1)&&(h.getDate()==d)){a=true}else{a=false}}else{a=false}return this.optional(c)||a},"Please enter a correct date");jQuery.validator.addMethod("dateNL",function(b,a){return this.optional(a)||/^\d\d?[\.\/-]\d\d?[\.\/-]\d\d\d?\d?$/.test(b)},"Vul hier een geldige datum in.");jQuery.validator.addMethod("time",function(b,a){return this.optional(a)||/^([01]\d|2[0-3])(:[0-5]\d){0,2}$/.test(b)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(b,a){return this.optional(a)||/^((0?[1-9]|1[012])(:[0-5]\d){0,2}(\ [AP]M))$/i.test(b)},"Please enter a valid time, between 00:00 am and 12:00 pm");jQuery.validator.addMethod("notEqualTo",function(b,a,d){var c=$(d).unbind(".validate-notEqualTo").bind("blur.validate-notEqualTo",function(){$(a).valid()});return b!=c.val()},"Please enter the different value.");jQuery.validator.addMethod("phoneUS",function(a,b){a=a.replace(/\s+/g,"");return this.optional(b)||a.length>9&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(a,b){return this.optional(b)||a.length>9&&a.match(/^(\(?(0|\+44)[1-9]{1}\d{1,4}?\)?\s?\d{3,4}\s?\d{3,4})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(a,b){return this.optional(b)||a.length>9&&a.match(/^((0|\+44)7(5|6|7|8|9){1}\d{2}\s?\d{6})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("strippedminlength",function(b,a,c){return jQuery(b).text().length>=c},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(b,a,c){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(b,a,c){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(b,a,c){if(/[^0-9-]+/.test(b)){return false}b=b.replace(/\D/g,"");var d=0;if(c.mastercard){d|=1}if(c.visa){d|=2}if(c.amex){d|=4}if(c.dinersclub){d|=8}if(c.enroute){d|=16}if(c.discover){d|=32}if(c.jcb){d|=64}if(c.unknown){d|=128}if(c.all){d=1|2|4|8|16|32|64|128}if(d&1&&/^(51|52|53|54|55)/.test(b)){return b.length==16}if(d&2&&/^(4)/.test(b)){return b.length==16}if(d&4&&/^(34|37)/.test(b)){return b.length==15}if(d&8&&/^(300|301|302|303|304|305|36|38)/.test(b)){return b.length==14}if(d&16&&/^(2014|2149)/.test(b)){return b.length==15}if(d&32&&/^(6011)/.test(b)){return b.length==16}if(d&64&&/^(3)/.test(b)){return b.length==16}if(d&64&&/^(2131|1800)/.test(b)){return b.length==15}if(d&128){return true}return false},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(b,a,c){return this.optional(a)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(b)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(b,a,c){return this.optional(a)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(b)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(b,a,c){return this.optional(a)||c.test(b)},"Invalid format.");

/* JS merged. Author(s), copyright, license see in /w3t_js/jquery/datepicker/zebra/zebra_datepicker.js */
!function(a){"use strict";a.Zebra_DatePicker=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N={always_visible:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disabled_dates:!1,enabled_dates:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onSelect:null},O=this;O.settings={};var P=a(b),Q=function(b){if(!b){O.settings=a.extend({},N,c);for(var y in P.data())0===y.indexOf("zdp_")&&(y=y.replace(/^zdp\_/,""),void 0!==N[y]&&(O.settings[y]="pair"==y?a(P.data("zdp_"+y)):P.data("zdp_"+y)))}O.settings.readonly_element&&P.attr("readonly","readonly");var E={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},F=!1,G=!1,Q=!1,T=null;for(T in E)a.each(E[T],function(a,b){O.settings.format.indexOf(b)>-1&&("days"==T?F=!0:"months"==T?G=!0:"years"==T&&(Q=!0))});H=F&&G&&Q?["years","months","days"]:!F&&G&&Q?["years","months"]:F&&G&&!Q?["months","days"]:F||G||!Q?F||!G||Q?["years","months","days"]:["months"]:["years"],-1==a.inArray(O.settings.view,H)&&(O.settings.view=H[H.length-1]),x=[],w=[];for(var U,V=0;2>V;V++)U=0===V?O.settings.disabled_dates:O.settings.enabled_dates,a.isArray(U)&&U.length>0&&a.each(U,function(){for(var b=this.split(" "),c=0;4>c;c++){b[c]||(b[c]="*"),b[c]=b[c].indexOf(",")>-1?b[c].split(","):new Array(b[c]);for(var d=0;d<b[c].length;d++)if(b[c][d].indexOf("-")>-1){var e=b[c][d].match(/^([0-9]+)\-([0-9]+)/);if(null!==e){for(var f=eb(e[1]);f<=eb(e[2]);f++)-1==a.inArray(f,b[c])&&b[c].push(f+"");b[c].splice(d,1)}}for(d=0;d<b[c].length;d++)b[c][d]=isNaN(eb(b[c][d]))?b[c][d]:eb(b[c][d])}0===V?x.push(b):w.push(b)});var W,X,Y=new Date,_=O.settings.reference_date?O.settings.reference_date:P.data("zdp_reference_date")&&void 0!==P.data("zdp_reference_date")?P.data("zdp_reference_date"):Y;if(z=void 0,A=void 0,o=_.getMonth(),l=Y.getMonth(),p=_.getFullYear(),m=Y.getFullYear(),q=_.getDate(),n=Y.getDate(),O.settings.direction===!0)z=_;else if(O.settings.direction===!1)A=_,D=A.getMonth(),C=A.getFullYear(),B=A.getDate();else if(!a.isArray(O.settings.direction)&&$(O.settings.direction)&&eb(O.settings.direction)>0||a.isArray(O.settings.direction)&&((W=R(O.settings.direction[0]))||O.settings.direction[0]===!0||$(O.settings.direction[0])&&O.settings.direction[0]>0)&&((X=R(O.settings.direction[1]))||O.settings.direction[1]===!1||$(O.settings.direction[1])&&O.settings.direction[1]>=0))z=W?W:new Date(p,o,q+(a.isArray(O.settings.direction)?eb(O.settings.direction[0]===!0?0:O.settings.direction[0]):eb(O.settings.direction))),o=z.getMonth(),p=z.getFullYear(),q=z.getDate(),X&&+X>=+z?A=X:!X&&O.settings.direction[1]!==!1&&a.isArray(O.settings.direction)&&(A=new Date(p,o,q+eb(O.settings.direction[1]))),A&&(D=A.getMonth(),C=A.getFullYear(),B=A.getDate());else if(!a.isArray(O.settings.direction)&&$(O.settings.direction)&&eb(O.settings.direction)<0||a.isArray(O.settings.direction)&&(O.settings.direction[0]===!1||$(O.settings.direction[0])&&O.settings.direction[0]<0)&&((W=R(O.settings.direction[1]))||$(O.settings.direction[1])&&O.settings.direction[1]>=0))A=new Date(p,o,q+(a.isArray(O.settings.direction)?eb(O.settings.direction[0]===!1?0:O.settings.direction[0]):eb(O.settings.direction))),D=A.getMonth(),C=A.getFullYear(),B=A.getDate(),W&&+A>+W?z=W:!W&&a.isArray(O.settings.direction)&&(z=new Date(C,D,B-eb(O.settings.direction[1]))),z&&(o=z.getMonth(),p=z.getFullYear(),q=z.getDate());else if(a.isArray(O.settings.disabled_dates)&&O.settings.disabled_dates.length>0)for(var cb in x)if("*"==x[cb][0]&&"*"==x[cb][1]&&"*"==x[cb][2]&&"*"==x[cb][3]){var gb=[];if(a.each(w,function(){var a=this;"*"!=a[2][0]&&gb.push(parseInt(a[2][0]+("*"==a[1][0]?"12":db(a[1][0],2))+("*"==a[0][0]?"*"==a[1][0]?"31":new Date(a[2][0],a[1][0],0).getDate():db(a[0][0],2)),10))}),gb.sort(),gb.length>0){var ib=(gb[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);p=parseInt(ib[1],10),o=parseInt(ib[2],10)-1,q=parseInt(ib[3],10)}break}if(Z(p,o,q)){for(;Z(p);)z?(p++,o=0):(p--,o=11);for(;Z(p,o);)z?(o++,q=1):(o--,q=new Date(p,o+1,0).getDate()),o>11?(p++,o=0,q=1):0>o&&(p--,o=11,q=new Date(p,o+1,0).getDate());for(;Z(p,o,q);)z?q++:q--,Y=new Date(p,o,q),p=Y.getFullYear(),o=Y.getMonth(),q=Y.getDate();Y=new Date(p,o,q),p=Y.getFullYear(),o=Y.getMonth(),q=Y.getDate()}var jb=R(P.val()||(O.settings.start_date?O.settings.start_date:""));if(jb&&O.settings.strict&&Z(jb.getFullYear(),jb.getMonth(),jb.getDate())&&P.val(""),b||void 0===z&&void 0===jb||fb(void 0!==z?z:jb),!O.settings.always_visible){if(!b){if(O.settings.show_icon){"firefox"==hb.name&&P.is('input[type="text"]')&&"inline"==P.css("display")&&P.css("display","inline-block");var kb=a('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:P.css("display"),position:"static"==P.css("position")?"relative":P.css("position"),"float":P.css("float"),top:P.css("top"),right:P.css("right"),bottom:P.css("bottom"),left:P.css("left")});P.wrap(kb).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),f=a('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"==P.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),O.icon=f,I=f.add(P)}else I=P;I.bind("click",function(a){a.preventDefault(),P.attr("disabled")||(e.hasClass("dp_visible")?O.hide():O.show())}),void 0!==f&&f.insertAfter(P)}if(void 0!==f){f.attr("style",""),O.settings.inside&&f.addClass("Zebra_DatePicker_Icon_Inside");var lb=P.outerWidth(),mb=P.outerHeight(),nb=parseInt(P.css("marginLeft"),10)||0,ob=parseInt(P.css("marginTop"),10)||0,pb=f.outerWidth(),qb=f.outerHeight(),rb=parseInt(f.css("marginLeft"),10)||0,sb=parseInt(f.css("marginRight"),10)||0;O.settings.inside?f.css({top:ob+(mb-qb)/2,left:nb+(lb-pb-sb)}):f.css({top:ob+(mb-qb)/2,left:nb+lb+rb}),f.removeClass(" Zebra_DatePicker_Icon_Disabled"),"disabled"==P.attr("disabled")&&f.addClass("Zebra_DatePicker_Icon_Disabled")}}if(L=O.settings.show_select_today!==!1&&a.inArray("days",H)>-1&&!Z(m,l,n)?O.settings.show_select_today:!1,!b){a(window).bind("resize.Zebra_DatePicker",function(){O.hide(),void 0!==f&&(clearTimeout(M),M=setTimeout(function(){O.update()},100))});var tb='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+O.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+O.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td class="dp_today"'+(O.settings.show_clear_date!==!1?' style="width:50%"':"")+">"+L+'</td><td class="dp_clear"'+(L!==!1?' style="width:50%"':"")+">"+O.settings.lang_clear_date+"</td></tr></table></div>";e=a(tb),O.datepicker=e,g=a("table.dp_header",e),h=a("table.dp_daypicker",e),i=a("table.dp_monthpicker",e),j=a("table.dp_yearpicker",e),K=a("table.dp_footer",e),J=a("td.dp_today",K),k=a("td.dp_clear",K),O.settings.always_visible?P.attr("disabled")||(O.settings.always_visible.append(e),O.show()):a("body").append(e),e.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseover",function(){a(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseout",function(){a(this).removeClass("dp_hover")}),S(a("td",g)),a(".dp_previous",g).bind("click",function(){"months"==d?s--:"years"==d?s-=12:--r<0&&(r=11,s--),ab()}),a(".dp_caption",g).bind("click",function(){d="days"==d?a.inArray("months",H)>-1?"months":a.inArray("years",H)>-1?"years":"days":"months"==d?a.inArray("years",H)>-1?"years":a.inArray("days",H)>-1?"days":"months":a.inArray("days",H)>-1?"days":a.inArray("months",H)>-1?"months":"years",ab()}),a(".dp_next",g).bind("click",function(){"months"==d?s++:"years"==d?s+=12:12==++r&&(r=0,s++),ab()}),h.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){O.settings.select_other_months&&null!==(ib=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?bb(ib[1],ib[2]-1,ib[3],"days",a(this)):bb(s,r,eb(a(this).html()),"days",a(this))}),i.delegate("td:not(.dp_disabled)","click",function(){var b=a(this).attr("class").match(/dp\_month\_([0-9]+)/);r=eb(b[1]),-1==a.inArray("days",H)?bb(s,r,1,"months",a(this)):(d="days",O.settings.always_visible&&P.val(""),ab())}),j.delegate("td:not(.dp_disabled)","click",function(){s=eb(a(this).html()),-1==a.inArray("months",H)?bb(s,1,1,"years",a(this)):(d="months",O.settings.always_visible&&P.val(""),ab())}),a(J).bind("click",function(b){b.preventDefault(),bb(m,l,n,"days",a(".dp_current",h)),O.settings.always_visible&&O.show(),O.hide()}),a(k).bind("click",function(b){b.preventDefault(),P.val(""),O.settings.always_visible?(t=null,u=null,v=null,a("td.dp_selected",e).removeClass("dp_selected")):(t=null,u=null,v=null,r=null,s=null),O.hide(),O.settings.onClear&&"function"==typeof O.settings.onClear&&O.settings.onClear.call(P,P)}),O.settings.always_visible||a(document).bind({"mousedown.Zebra_DatePicker":function(b){if(e.hasClass("dp_visible")){if(O.settings.show_icon&&a(b.target).get(0)===f.get(0))return!0;0===a(b.target).parents().filter(".Zebra_DatePicker").length&&O.hide()}},"keyup.Zebra_DatePicker":function(a){e.hasClass("dp_visible")&&27==a.which&&O.hide()}}),ab()}};O.destroy=function(){void 0!==O.icon&&O.icon.remove(),O.datepicker.remove(),a(document).unbind("keyup.Zebra_DatePicker"),a(document).unbind("mousedown.Zebra_DatePicker"),a(window).unbind("resize.Zebra_DatePicker"),P.removeData("Zebra_DatePicker")},O.hide=function(){O.settings.always_visible||(Y("hide"),e.removeClass("dp_visible").addClass("dp_hidden"))},O.show=function(){d=O.settings.view;var b=R(P.val()||(O.settings.start_date?O.settings.start_date:""));if(b?(u=b.getMonth(),r=b.getMonth(),v=b.getFullYear(),s=b.getFullYear(),t=b.getDate(),Z(v,u,t)&&(O.settings.strict&&P.val(""),r=o,s=p)):(r=o,s=p),ab(),O.settings.always_visible)e.removeClass("dp_hidden").addClass("dp_visible");else{var c=e.outerWidth(),g=e.outerHeight(),h=(void 0!==f?f.offset().left+f.outerWidth(!0):P.offset().left+P.outerWidth(!0))+O.settings.offset[0],i=(void 0!==f?f.offset().top:P.offset().top)-g+O.settings.offset[1],j=a(window).width(),k=a(window).height(),l=a(window).scrollTop(),m=a(window).scrollLeft();"below"==O.settings.default_position&&(i=(void 0!==f?f.offset().top:P.offset().top)+O.settings.offset[1]),h+c>m+j&&(h=m+j-c),m>h&&(h=m),i+g>l+k&&(i=l+k-g),l>i&&(i=l),e.css({left:h,top:i}),e.removeClass("dp_hidden").addClass("dp_visible"),Y()}O.settings.onOpen&&"function"==typeof O.settings.onOpen&&O.settings.onOpen.call(P,P)},O.update=function(b){O.original_direction&&(O.original_direction=O.direction),O.settings=a.extend(O.settings,b),Q(!0)};var R=function(b){if(b+="",""!==a.trim(b)){for(var c=T(O.settings.format),d=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],e=[],f=[],g=null,h=null,i=0;i<d.length;i++)(g=c.indexOf(d[i]))>-1&&e.push({character:d[i],position:g});if(e.sort(function(a,b){return a.position-b.position}),a.each(e,function(a,b){switch(b.character){case"d":f.push("0[1-9]|[12][0-9]|3[01]");break;case"D":f.push("[^0-9]+");break;case"j":f.push("[1-9]|[12][0-9]|3[01]");break;case"l":f.push("[a-z]+");break;case"N":f.push("[1-7]");break;case"S":f.push("st|nd|rd|th");break;case"w":f.push("[0-6]");break;case"F":f.push("[a-z]+");break;case"m":f.push("0[1-9]|1[012]+");break;case"M":f.push("[^0-9]+");break;case"n":f.push("[1-9]|1[012]");break;case"Y":f.push("[0-9]{4}");break;case"y":f.push("[0-9]{2}")}}),f.length&&(e.reverse(),a.each(e,function(a,b){c=c.replace(b.character,"("+f[f.length-a-1]+")")}),f=new RegExp("^"+c+"$","ig"),h=f.exec(b))){var j,k=new Date,l=1,m=k.getMonth()+1,n=k.getFullYear(),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],q=!0;if(e.reverse(),a.each(e,function(b,c){if(!q)return!0;switch(c.character){case"m":case"n":m=eb(h[b+1]);break;case"d":case"j":l=eb(h[b+1]);break;case"D":case"l":case"F":case"M":j="D"==c.character||"l"==c.character?O.settings.days:O.settings.months,q=!1,a.each(j,function(a,d){if(q)return!0;if(h[b+1].toLowerCase()==d.substring(0,"D"==c.character||"M"==c.character?3:d.length).toLowerCase()){switch(c.character){case"D":h[b+1]=o[a].substring(0,3);break;case"l":h[b+1]=o[a];break;case"F":h[b+1]=p[a],m=a+1;break;case"M":h[b+1]=p[a].substring(0,3),m=a+1}q=!0}});break;case"Y":n=eb(h[b+1]);break;case"y":n="19"+eb(h[b+1])}}),q){var r=new Date(n,(m||1)-1,l||1);if(r.getFullYear()==n&&r.getDate()==(l||1)&&r.getMonth()==(m||1)-1)return r}}return!1}},S=function(a){"firefox"==hb.name?a.css("MozUserSelect","none"):"explorer"==hb.name?a.bind("selectstart",function(){return!1}):a.mousedown(function(){return!1})},T=function(a){return a.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},U=function(b){for(var c="",d=b.getDate(),e=b.getDay(),f=O.settings.days[e],g=b.getMonth()+1,h=O.settings.months[g-1],i=b.getFullYear()+"",j=0;j<O.settings.format.length;j++){var k=O.settings.format.charAt(j);switch(k){case"y":i=i.substr(2);case"Y":c+=i;break;case"m":g=db(g,2);case"n":c+=g;break;case"M":h=a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[g-1]?O.settings.months_abbr[g-1]:O.settings.months[g-1].substr(0,3);case"F":c+=h;break;case"d":d=db(d,2);case"j":c+=d;break;case"D":f=a.isArray(O.settings.days_abbr)&&void 0!==O.settings.days_abbr[e]?O.settings.days_abbr[e]:O.settings.days[e].substr(0,3);case"l":c+=f;break;case"N":e++;case"w":c+=e;break;case"S":c+=d%10==1&&"11"!=d?"st":d%10==2&&"12"!=d?"nd":d%10==3&&"13"!=d?"rd":"th";break;default:c+=k}}return c},V=function(){var b=new Date(s,r+1,0).getDate(),c=new Date(s,r,1).getDay(),d=new Date(s,r,0).getDate(),e=c-O.settings.first_day_of_week;e=0>e?7+e:e,_(O.settings.header_captions.days);var f="<tr>";O.settings.show_week_number&&(f+="<th>"+O.settings.show_week_number+"</th>");for(var g=0;7>g;g++)f+="<th>"+(a.isArray(O.settings.days_abbr)&&void 0!==O.settings.days_abbr[(O.settings.first_day_of_week+g)%7]?O.settings.days_abbr[(O.settings.first_day_of_week+g)%7]:O.settings.days[(O.settings.first_day_of_week+g)%7].substr(0,2))+"</th>";for(f+="</tr><tr>",g=0;42>g;g++){g>0&&g%7===0&&(f+="</tr><tr>"),g%7===0&&O.settings.show_week_number&&(f+='<td class="dp_week_number">'+gb(new Date(s,r,g-e+1))+"</td>");var i=g-e+1;if(O.settings.select_other_months&&(e>g||i>b)){var j=new Date(s,r,i),k=j.getFullYear(),o=j.getMonth(),p=j.getDate();j=k+db(o+1,2)+db(p,2)}if(e>g)f+='<td class="'+(O.settings.select_other_months&&!Z(k,o,p)?"dp_not_in_month_selectable date_"+j:"dp_not_in_month")+'">'+(O.settings.select_other_months||O.settings.show_other_months?db(d-e+g+1,O.settings.zero_pad?2:0):"&nbsp;")+"</td>";else if(i>b)f+='<td class="'+(O.settings.select_other_months&&!Z(k,o,p)?"dp_not_in_month_selectable date_"+j:"dp_not_in_month")+'">'+(O.settings.select_other_months||O.settings.show_other_months?db(i-b,O.settings.zero_pad?2:0):"&nbsp;")+"</td>";else{var q=(O.settings.first_day_of_week+g)%7,w="";Z(s,r,i)?(a.inArray(q,O.settings.weekend_days)>-1?w="dp_weekend_disabled":w+=" dp_disabled",r==l&&s==m&&n==i&&(w+=" dp_disabled_current")):(a.inArray(q,O.settings.weekend_days)>-1&&(w="dp_weekend"),r==u&&s==v&&t==i&&(w+=" dp_selected"),r==l&&s==m&&n==i&&(w+=" dp_current")),f+="<td"+(""!==w?' class="'+a.trim(w)+'"':"")+">"+(O.settings.zero_pad?db(i,2):i)+"</td>"}}f+="</tr>",h.html(a(f)),O.settings.always_visible&&(E=a("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",h)),h.show()},W=function(){_(O.settings.header_captions.months);for(var b="<tr>",c=0;12>c;c++){c>0&&c%3===0&&(b+="</tr><tr>");var d="dp_month_"+c;Z(s,c)?d+=" dp_disabled":u!==!1&&u==c&&s==v?d+=" dp_selected":l==c&&m==s&&(d+=" dp_current"),b+='<td class="'+a.trim(d)+'">'+(a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[c]?O.settings.months_abbr[c]:O.settings.months[c].substr(0,3))+"</td>"}b+="</tr>",i.html(a(b)),O.settings.always_visible&&(F=a("td:not(.dp_disabled)",i)),i.show()},X=function(){_(O.settings.header_captions.years);for(var b="<tr>",c=0;12>c;c++){c>0&&c%3===0&&(b+="</tr><tr>");var d="";Z(s-7+c)?d+=" dp_disabled":v&&v==s-7+c?d+=" dp_selected":m==s-7+c&&(d+=" dp_current"),b+="<td"+(""!==a.trim(d)?' class="'+a.trim(d)+'"':"")+">"+(s-7+c)+"</td>"}b+="</tr>",j.html(a(b)),O.settings.always_visible&&(G=a("td:not(.dp_disabled)",j)),j.show()},Y=function(b){if("explorer"==hb.name&&6==hb.version){if(!y){var c=eb(e.css("zIndex"))-1;y=a("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:c,position:"absolute",top:-1e3,left:-1e3,width:e.outerWidth(),height:e.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),a("body").append(y)}switch(b){case"hide":y.hide();break;default:var d=e.offset();y.css({top:d.top,left:d.left,display:"block"})}}},Z=function(b,c,d){if((void 0===b||isNaN(b))&&(void 0===c||isNaN(c))&&(void 0===d||isNaN(d)))return!1;if(a.isArray(O.settings.direction)||0!==eb(O.settings.direction)){var e=eb(cb(b,"undefined"!=typeof c?db(c,2):"","undefined"!=typeof d?db(d,2):"")),f=(e+"").length;if(8==f&&("undefined"!=typeof z&&e<eb(cb(p,db(o,2),db(q,2)))||"undefined"!=typeof A&&e>eb(cb(C,db(D,2),db(B,2)))))return!0;if(6==f&&("undefined"!=typeof z&&e<eb(cb(p,db(o,2)))||"undefined"!=typeof A&&e>eb(cb(C,db(D,2)))))return!0;if(4==f&&("undefined"!=typeof z&&p>e||"undefined"!=typeof A&&e>C))return!0}"undefined"!=typeof c&&(c+=1);var g=!1,h=!1;return x&&a.each(x,function(){if(!g){var e=this;if((a.inArray(b,e[2])>-1||a.inArray("*",e[2])>-1)&&("undefined"!=typeof c&&a.inArray(c,e[1])>-1||a.inArray("*",e[1])>-1)&&("undefined"!=typeof d&&a.inArray(d,e[0])>-1||a.inArray("*",e[0])>-1)){if("*"==e[3])return g=!0;var f=new Date(b,c-1,d).getDay();if(a.inArray(f,e[3])>-1)return g=!0}}}),w&&a.each(w,function(){if(!h){var e=this;if((a.inArray(b,e[2])>-1||a.inArray("*",e[2])>-1)&&(h=!0,"undefined"!=typeof c))if(h=!0,a.inArray(c,e[1])>-1||a.inArray("*",e[1])>-1){if("undefined"!=typeof d)if(h=!0,a.inArray(d,e[0])>-1||a.inArray("*",e[0])>-1){if("*"==e[3])return h=!0;var f=new Date(b,c-1,d).getDay();if(a.inArray(f,e[3])>-1)return h=!0;h=!1}else h=!1}else h=!1}}),w&&h?!1:x&&g?!0:!1},$=function(a){return(a+"").match(/^\-?[0-9]+$/)?!0:!1},_=function(b){!isNaN(parseFloat(r))&&isFinite(r)&&(b=b.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(b){switch(b){case"m":return db(r+1,2);case"n":return r+1;case"F":return O.settings.months[r];case"M":return a.isArray(O.settings.months_abbr)&&void 0!==O.settings.months_abbr[r]?O.settings.months_abbr[r]:O.settings.months[r].substr(0,3);default:return b}})),!isNaN(parseFloat(s))&&isFinite(s)&&(b=b.replace(/\bY\b/,s).replace(/\by\b/,(s+"").substr(2)).replace(/\bY1\b/i,s-7).replace(/\bY2\b/i,s+4)),a(".dp_caption",g).html(b)},ab=function(){if(""===h.text()||"days"==d){if(""===h.text()){O.settings.always_visible||e.css("left",-1e3),e.css("visibility","visible"),V();var b=h.outerWidth(),c=h.outerHeight();i.css({width:b,height:c}),j.css({width:b,height:c}),g.css("width",b),K.css("width",b),e.css("visibility","").addClass("dp_hidden")}else V();i.hide(),j.hide()}else"months"==d?(W(),h.hide(),j.hide()):"years"==d&&(X(),h.hide(),i.hide());if(O.settings.onChange&&"function"==typeof O.settings.onChange&&void 0!==d){var f="days"==d?h.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):"months"==d?i.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):j.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)");f.each(function(){if("days"==d)if(a(this).hasClass("dp_not_in_month_selectable")){var b=a(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/);a(this).data("date",b[1]+"-"+b[2]+"-"+b[3])}else a(this).data("date",s+"-"+db(r+1,2)+"-"+db(eb(a(this).text()),2));else if("months"==d){var b=a(this).attr("class").match(/dp\_month\_([0-9]+)/);a(this).data("date",s+"-"+db(eb(b[1])+1,2))}else a(this).data("date",eb(a(this).text()))}),O.settings.onChange.call(P,d,f,P)}K.show(),O.settings.show_clear_date===!0||0===O.settings.show_clear_date&&""!==P.val()||O.settings.always_visible&&O.settings.show_clear_date!==!1?(k.show(),L?(J.css("width","50%"),k.css("width","50%")):(J.hide(),k.css("width","100%"))):(k.hide(),L?J.show().css("width","100%"):K.hide())},bb=function(a,b,c,d,e){var f=new Date(a,b,c,12,0,0),g="days"==d?E:"months"==d?F:G,h=U(f);P.val(h),O.settings.always_visible&&(u=f.getMonth(),r=f.getMonth(),v=f.getFullYear(),s=f.getFullYear(),t=f.getDate(),g.removeClass("dp_selected"),e.addClass("dp_selected"),"days"==d&&e.hasClass("dp_not_in_month_selectable")&&O.show()),O.hide(),fb(f),O.settings.onSelect&&"function"==typeof O.settings.onSelect&&O.settings.onSelect.call(P,h,a+"-"+db(b+1,2)+"-"+db(c,2),f,P,gb(f)),P.focus()},cb=function(){for(var a="",b=0;b<arguments.length;b++)a+=arguments[b]+"";return a},db=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},eb=function(a){return parseInt(a,10)},fb=function(b){O.settings.pair&&a.each(O.settings.pair,function(){var c=a(this);if(c.data&&c.data("Zebra_DatePicker")){var d=c.data("Zebra_DatePicker");d.update({reference_date:b,direction:0===d.settings.direction?1:d.settings.direction}),d.settings.always_visible&&d.show()}else c.data("zdp_reference_date",b)})},gb=function(a){var b,c,d,e,f,g,h,i,j,k=a.getFullYear(),l=a.getMonth()+1,m=a.getDate();return 3>l?(b=k-1,c=(b/4|0)-(b/100|0)+(b/400|0),d=((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0),e=c-d,f=0,g=m-1+31*(l-1)):(b=k,c=(b/4|0)-(b/100|0)+(b/400|0),d=((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0),e=c-d,f=e+1,g=m+((153*(l-3)+2)/5|0)+58+e),h=(b+c)%7,m=(g+h-f)%7,i=g+3-m,j=0>i?53-((h-e)/5|0):i>364+e?1:(i/7|0)+1},hb={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};hb.init(),Q()},a.fn.Zebra_DatePicker=function(b){return this.each(function(){void 0!==a(this).data("Zebra_DatePicker")&&a(this).data("Zebra_DatePicker").destroy();var c=new a.Zebra_DatePicker(this,b);a(this).data("Zebra_DatePicker",c)})}}(jQuery);

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_auth.js */
var ESAuth=function(settings){var settings=settings||{};this.host=settings.host||document.location.hostname;this.container_id=settings.container_id||'id_current_user_auth_container';this.satellite_not_clone=false;if(this.host!=document.location.hostname)
{this.satellite_not_clone=true;}
this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;this.userAuthorized=settings.userAuthorized||false;};ESAuth.prototype={init:function(settings){var _this=this;var settings=settings||{};if(settings.auto_open==undefined||settings.auto_open!=true){settings.auto_open=false;}
if(settings.disable_close==undefined||settings.disable_close!=true){settings.disable_close=false;}
if(settings.show_link_registration==undefined||settings.show_link_registration!=false){settings.show_link_regitration=true;}
if(settings.show_link_remind==undefined||settings.show_link_remind!=false){settings.show_link_remind=true;}
if(settings.prefix_html==undefined||settings.prefix_html==null){settings.prefix_html='';}
if(settings.postfix_html==undefined||settings.postfix_html==null){settings.postfix_html='';}
if(settings.force_user_role==undefined||settings.force_user_role==null||settings.force_user_role==false){settings.force_user_role='';}
if(settings.force_user_login==undefined||settings.force_user_login==null||settings.force_user_login==false){settings.force_user_login='';}
if(settings.on_login_callback==undefined){settings.on_login_callback=null;}
if(settings.on_logout_callback==undefined){settings.on_logout_callback=null;}
if(settings.auto_open==false)
{this.populateCurrentUserContainer(settings);}
else if(settings.force_user_role||settings.force_user_login)
{this.showAuthWindowForceLogin(settings);}
else
{this.showAuthWindow(settings);}},showAuthWindowForceLogin:function(settings){var _this=this;var settings=settings||{};var onCheckDone=function(data){if(data==undefined||data.slug==undefined)
{return false;}
switch(data.slug)
{case'exist':_this.showAuthWindow(settings);break;case'no_exist':var callback=settings.on_login_callback;if(jQuery.isFunction(callback))
{callback(data);}
break;case'current':var callback=settings.on_login_callback;if(jQuery.isFunction(callback))
{callback(data);}
break;case'other_role':var dialog_title='Incorrect user role';var dialog_body='';dialog_body+='<p>Your e-mail has already been registered, but not under <b>'+settings.force_user_role+'\'s account.</b></p>'+"\n";dialog_body+='<p>You cannot place a new order as a <b>'+settings.force_user_role+'</b> using this e-mail address. </p>'+"\n";dialog_body+='<br />'+"\n";dialog_body+='<p>Please use an alternative e-mail address if you wish to place a new order.</p>'+"\n";_this.showDialog(dialog_title,dialog_body);break;}};if(settings.force_user_login&&settings.force_user_role)
{this._checkRequiredUser(settings.force_user_role,settings.force_user_login,onCheckDone);}
else
{this.showAuthWindow(settings);}},showAuthWindow:function(settings){var _this=this;var settings=settings||{};var login_form='';login_form+='<div id="id_esauth_auth_container" class="es-dialog es-modal es-effect-slide" style="display:none;"><div class="es-content">'+"\n";login_form+='<div class="es-header">'+__('Sign into your account')+"\n";if(!settings.disable_close)
{login_form+='<span id="id_esauth_auth_container_close" class="es-close es-close-icon">&times;</span>'+"\n";}
login_form+='</div>'+"\n";login_form+='<div class="es-inner-content">';login_form+='<form id="id_esauth_auth_form" onsubmit="return false">'+"\n";if(settings.prefix_html!='')
{login_form+=' <div class="es-comment site-message bold">'+settings.prefix_html+'</div>'+"\n";}
login_form+=' <div class="es-row es-row-mail">'+"\n";login_form+='  <label for="id_esauth_login_field">'+__('E-mail')+'</label>'+"\n";if(settings.force_user_login!='')
{login_form+='  <span class="es-e-mail input-model input-style input-wide">'+settings.force_user_login+'</span>'+"\n";}
else
{login_form+='  <input id="id_esauth_login_field" name="l" type="email" required autocomplete="email" />'+"\n";}
login_form+=' </div>'+"\n";login_form+=' <div class="es-row es-row-password">'+"\n";login_form+='  <label for="id_esauth_pwd_field">'+__('Password')+'</label>'+"\n";login_form+='  <input id="id_esauth_pwd_field" name="p" type="password" />'+"\n";login_form+='  <div id="id_esauth_pwd_field_error"></div>'+"\n";login_form+=' </div>'+"\n";login_form+='<div class="es-auth-stay-signed-in">';login_form+='<input type="hidden" name="stay_signed_in" value="0" />';login_form+='<label for="stay_signed_in"><input id="stay_signed_in" type="checkbox" name="stay_signed_in" value="1" />'+__('Stay signed in')+'</label>';login_form+='</div>';login_form+='<div class="es-row">';login_form+='<button class="input_submit es-primary-button highlight-button" id="id_esauth_login_button" type="submit">'+__('Login')+'</button>'+"\n";login_form+='</div>'+"\n";if(settings.postfix_html!='')
{login_form+=' <div class="es-comment">'+settings.postfix_html+'</div>'+"\n";}
login_form+=' </form>'+"\n";if(settings.show_link_registration||settings.show_link_remind)
{login_form+=' <div class="linetop">'+"\n";if(settings.show_link_registration)
{login_form+='  <a class="es-link register" href="//'+_this.host+'/registration.html">'+__('Registration')+'</a>'+"\n";}
if(settings.show_link_remind)
{var force_user_login_addon=((settings.force_user_login!='')?'?login='+settings.force_user_login:'');login_form+='  <a class="es-link forgot" href="https://'+_this.host+'/auth_password_reset.html'+force_user_login_addon+'">'+__('Forgot Password')+'</a>'+"\n";}
login_form+=' </div>'+"\n";}
login_form+='</div></div></div>'+"\n";jQuery('#id_esauth_auth_container').remove();jQuery('body').append(login_form);var onLoginDone=function(data)
{if(data==undefined)
{return false;}
switch(data.code)
{case 1:_this.populateCurrentUserContainer(settings);_this.hideAuthWindow();var callback=settings.on_login_callback;if(jQuery.isFunction(callback))
{callback(data);}
break;case 0:var error_message=__('Incorrect password.');if(data.message!=undefined&&data.message!='')
{error_message+=data.message;}
aj_auth_validator.showErrors({'p':error_message});break;case-1:_this.ajax_before_send_function('body');window.location.href='//'+_this.host+'/browsers.html';_this.hideAuthWindow();break;case-2:_this.ajax_before_send_function('body');window.location.href='https://'+_this.host+'/password-reset-required.html?l='+jQuery('#id_esauth_login_field').val();_this.hideAuthWindow();break;}};jQuery("#id_esauth_login_field, #id_esauth_pwd_field").focus(function(){jQuery('#id_esauth_pwd_field_error').text('');});jQuery("#id_esauth_auth_container_close").click(function(){_this.hideAuthWindow();});var aj_auth_validator=jQuery('#id_esauth_auth_form').validate({submitHandler:function(frm){_this._loginAttempt(settings.force_user_role,settings.force_user_login,onLoginDone);return false;},invalidHandler:function(frm,validator){},rules:{'l':{required:true,email:true},'p':{required:true}},messages:{'l':{required:__('This field is required'),email:__('Incorrect e-mail')},'p':{required:__('This field is required')}}});jQuery("#id_esauth_pwd_field").keyup(function(event){var keyCode=event.keyCode||event.which;if(keyCode==13)
{jQuery("#id_esauth_login_button").triggerHandler('click');}
return true;});if(!settings.disable_close)
{jQuery("body").keyup(function(event){var keyCode=event.keyCode||event.which;if(keyCode==27)
{_this.hideAuthWindow();}
return true;});}
if(settings.force_user_login!='')
{jQuery('#id_esauth_pwd_field').focus();}
else
{jQuery('#id_esauth_login_field').focus();}
jQuery('#id_esauth_auth_container, #es-overlay').show().addClass('es-show');},hideAuthWindow:function(){jQuery('#id_esauth_auth_container, #es-overlay').removeClass('es-show');jQuery('#id_esauth_auth_container').remove();},showDialog:function(dialog_title,dialog_body){var _this=this;var dialog_html='';dialog_html+='<div id="id_esauth_dialog_container" class="es-dialog es-modal es-effect-slide" style="display:none"><div class="es-content">'+"\n";dialog_html+='<div class="es-header" id="id_esauth_dialog_title">'+dialog_title+'<span id="id_esauth_dialog_container_close" class="es-close es-close-icon"> X </span></div>'+"\n";dialog_html+='<div id="id_esauth_dialog_body" class="es-inner-content">'+dialog_body+'</div>'+"\n";dialog_html+='</div></div>'+"\n";jQuery('#id_esauth_dialog_container').remove();jQuery('body').append(dialog_html);jQuery('#id_esauth_dialog_container, #es-overlay').show().addClass('es-show');jQuery("#id_esauth_dialog_container_close").click(function(){_this.hideDialog();});},hideDialog:function(html){jQuery('#id_esauth_dialog_container, #es-overlay').removeClass('es-show');jQuery('#id_esauth_dialog_container').remove();},populateCurrentUserContainer:function(settings){var _this=this;var settings=settings||{};if(_this.satellite_not_clone)
{jQuery('#'+_this.container_id).hide();return false;}
var populateCurrentUser=function(data){if(data==undefined)
{return false;}
jQuery('#id_current_user_auth_subcontainer').remove();var container_html='<div id="id_current_user_auth_subcontainer" class="short">';if(data.auth==1)
{container_html+='<a href="'+data.redirect+'" id="id_esauth_myaccount_current_login"><img id="es-avatar" src="'+data.user_avatar+'" width="20">'+data.user_login+'</a> ';container_html+='<a id="id_esauth_myaccount_current_logout_link" title="'+__('Logout')+'" class="tooltip_n">'+__('Log Out')+'</a>';if(data.user_links!=undefined)
{if(data.user_role=='customer'||data.user_role=='writer')
{container_html+='<a id="es-indicator" href="'+data.user_links[2].url+'"><span class="message_order message_order_bidding message_order_progress"></span><span class="update_bid update_bid_order"></span></a>';}
container_html+='<div id="id_esauth_myaccount_current_shortcuts">';jQuery.each(data.user_links,function(index,value){container_html+='<a href="'+value.url+'" class="auth_user_menu_'+value.uniq+'">'+value.title+'</a>';});container_html+='</div>';}}
else
{container_html+='<a id="id_esauth_myaccount_login_link">'+__('My Account')+'</a>';}
container_html+='</div>';jQuery('#'+_this.container_id).html(container_html);jQuery('#aj_current_balance').html(' (<b>'+data.user_balance+'</b>)');jQuery("#id_esauth_myaccount_login_link").click(function(){_this.showAuthWindow(settings);setTimeout(function(){jQuery('#id_esauth_login_field').focus()},100);});jQuery("#id_esauth_myaccount_current_logout_link").on('click',function(){_this._logout(settings.on_logout_callback);});jQuery('.account-container, .account-button').on('click','.logout-button-mobile',function(){_this._logout(settings.on_logout_callback);});if(jQuery('.mobile').length!==0&&typeof($.fn.essayshark)=='function'){jQuery(document).essayshark('userStatus',data);}
jQuery("#id_esauth_myaccount_current_login").click(function(){$('#id_current_user_auth_subcontainer').toggleClass('short');$('#id_esauth_myaccount_current_shortcuts').slideToggle(300);return false;});};this._getCurrentUser(populateCurrentUser);},_logout:function(callback){var _this=this;var onLogoutDone=function(data){if(jQuery.isFunction(callback))
{callback(data);}
_this.populateCurrentUserContainer();};var request_url='https://'+_this.host+'/auth/aj_logout2.html?callback=?';var request_data={loc:window.location.pathname+window.location.search};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){onLogoutDone(data);}});},_getCurrentUser:function(callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_current2.html?callback=?';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){if(jQuery.isFunction(callback))callback(data,callback);if(_this.userAuthorized&&data.auth===1)_this.userAuthorized(data);}});},_checkRequiredUser:function(user_role,user_login,callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_role_required2.html?callback=?';var request_data={user_login:user_login,user_role:user_role};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#id_esauth_auth_container');},complete:function(){_this.ajax_complete_function('#id_esauth_auth_container');},success:function(data){if(jQuery.isFunction(callback)){callback(data);}}});},_loginAttempt:function(force_user_role,force_user_login,callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_login2.html?callback=?';var request_data={};request_data.l=(force_user_login!='')?force_user_login:jQuery('#id_esauth_login_field').val();request_data.p=jQuery('#id_esauth_pwd_field').val();request_data.role=(force_user_role!='')?force_user_role:'';request_data.stay_signed_in=jQuery('#stay_signed_in').prop('checked')===true?1:0;jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#id_esauth_auth_container');},complete:function(){_this.ajax_complete_function('#id_esauth_auth_container');},success:function(data){if(jQuery.isFunction(callback)){if(_this.satellite_not_clone)
{data.p=request_data.p;}
callback(data);}}});},_ajaxBeforeSend:function(selector){if(selector=='body'&&jQuery('#es-overlay').length)
{jQuery('#es-overlay').show().addClass('es-loader es-show');}
else
{jQuery(selector).addClass('es-loader');}},_ajaxComplete:function(selector){if(selector=='body'&&jQuery('#es-overlay').length)
{jQuery('#es-overlay').removeClass('es-loader es-show');}
else
{jQuery(selector).removeClass('es-loader');}}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_esof.js */
var ESSOF=function(settings){var settings=settings||{};this.host=settings.host||document.location.hostname;this.container_id=settings.container_id||'id_sof_container';this.es_auth=settings.es_auth||null;this.satellite_not_clone=false;if(this.host!=document.location.hostname)
{this.satellite_not_clone=true;}
this.w_id=settings.w_id||0;this.one_hour_deadline=settings.one_hour_deadline||false;if(settings.on_show_callback==undefined){settings.on_show_callback=null;}
this.on_show_callback=settings.on_show_callback;this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;this.callback_function=settings.callback_function||this._callback;};ESSOF.prototype={showForm:function(){var _this=this;var echoForm=function(data){if(data==undefined)
{return false;}
if(data.substr(0,9)=='location:')
{_this.ajax_before_send_function('body');window.location.href=data.substr(9);return true;}
jQuery('#'+_this.container_id).empty();jQuery('#'+_this.container_id).html(data);_this.ajax_complete_function('body');if(window.w3t!=undefined&&window.w3t.client_utc_offset_min!=undefined)
{jQuery('#id_esof_utc_offset_min').val(window.w3t.client_utc_offset_min);}
jQuery('#id_esof_deadline_date').Zebra_DatePicker({format:'d M Y',offset:[-20,219],direction:true,first_day_of_week:0,show_clear_date:false,show_icon:true,weekend_days:[],onSelect:function(dateText,dateTextYMD,dateObj,jqDomElem){toggle_time_picker();disable_previous_deadline_time();jQuery("#id_esof_deadline_date").trigger('blur').trigger('change');},onOpen:function(elem){var dt_now=new Date();var days_in_cur_month=new Date(dt_now.getFullYear(),dt_now.getMonth(),0).getDate();if(days_in_cur_month-dt_now.getDate()<=3)
{jQuery('.dp_next').trigger('click');}}});var toggle_time_picker=function()
{var month_names_en=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];var month_names_ru=['Янв','Фев','Мар','Апр','Май','Июн','Июл','Авг','Сен','Окт','Ноя','Дек'];var month_names_zh=['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'];var dt_now=new Date();var time_picker_visible=false;for(var i=0;i<=3;i++)
{var tmp_dt=new Date(dt_now.getTime()+i*24*3600*1000);var tmp_dt_str_en=((tmp_dt.getDate()<10)?'0':'')+tmp_dt.getDate()+' '+month_names_en[tmp_dt.getMonth()]+' '+tmp_dt.getFullYear();var tmp_dt_str_ru=((tmp_dt.getDate()<10)?'0':'')+tmp_dt.getDate()+' '+month_names_ru[tmp_dt.getMonth()]+' '+tmp_dt.getFullYear();var tmp_dt_str_zh=((tmp_dt.getDate()<10)?'0':'')+tmp_dt.getDate()+' '+month_names_zh[tmp_dt.getMonth()]+' '+tmp_dt.getFullYear();if(jQuery("#id_esof_deadline_date").val()==tmp_dt_str_en||jQuery("#id_esof_deadline_date").val()==tmp_dt_str_ru||jQuery("#id_esof_deadline_date").val()==tmp_dt_str_zh)
{time_picker_visible=true;break;}}
if(time_picker_visible)
{jQuery('#deadline_time_select_container').show();}
else
{jQuery('#deadline_time_select_container').hide();set_default_time();}}
var set_default_time=function()
{var dt_now=new Date();jQuery('#id_esof_deadline_time').val(dt_now.getHours());}
set_default_time();toggle_time_picker();var recalculate_pages=function()
{var pages=jQuery("#id_esof_pages_qty").val()*1;var words_string='';if(!isNaN(pages)&&pages!=undefined&&pages!=null&&pages>0)
{if(jQuery('input[name=esof_paper_lang]:checked').val()=='zh')
{words_string=' '+jQuery("#id_esof_pages_qty").val()*600+' '+__('hieroglyphs');}
else
{words_string=' '+jQuery("#id_esof_pages_qty").val()*275+' '+__('words');}}
jQuery("#pages_qty_hint").text(words_string);};recalculate_pages();jQuery("#id_esof_pages_qty").change(function(){recalculate_pages();});jQuery("#id_esof_pages_qty").keyup(function(){recalculate_pages();});jQuery(".paper_lang_input").change(function(){recalculate_pages();});var timestampByDMY2=function(date_str)
{if(date_str==undefined||date_str==null||date_str==''){return 0;}
var ucfirst=function(s){return s.charAt(0).toUpperCase()+s.slice(1);};var month_en=['nov','dec','jan','feb','mar','apr','may','jun','jul','aug','sep','oct'];var month_ru=['ноя','дек','янв','фев','мар','апр','май','июн','июл','авг','сен','окт'];var month_zh=['十一月','十二月','一月','二月','三月','四月','五月','六月','七月','八月','九月','十月'];for(var mn=0;mn<=11;mn++)
{date_str=date_str.replace(month_ru[mn],month_en[mn]);date_str=date_str.replace(ucfirst(month_ru[mn]),ucfirst(month_en[mn]));date_str=date_str.replace(month_zh[mn],month_en[mn]);date_str=date_str.replace(ucfirst(month_zh[mn]),ucfirst(month_en[mn]));}
var date_parts=date_str.split(' ');var tmp_date=new Date();tmp_date.setTime(Date.parse(date_parts[1]+' '+date_parts[0]+', '+date_parts[2]));var ret=tmp_date.getFullYear()+''+((tmp_date.getMonth()+1)<10?'0':'')+''+(tmp_date.getMonth()+1)+''+(tmp_date.getDate()<10?'0':'')+''+tmp_date.getDate();return ret;};var recalculate_asignment_types=function()
{if(jQuery('#id_esof_discipline option:selected').length<=0){return false;}
var cur_discipline=jQuery('#id_esof_discipline option:selected').val();jQuery('.dl_esof_assignment_type').hide();jQuery('.dl_esof_assignment_type_txt').hide();if(cur_discipline>0)
{jQuery('#dl_esof_assignment_type_d'+cur_discipline).show();jQuery('#dl_esof_assignment_type_d'+cur_discipline+'_txt').show();}
return true;};recalculate_asignment_types();jQuery("#id_esof_discipline").change(function(){recalculate_asignment_types();});var disable_previous_deadline_time=function()
{var selected_date_timestamp=timestampByDMY2(jQuery("#id_esof_deadline_date").val());var now_date=new Date();now_date_timestamp=now_date.getFullYear()+''+((now_date.getMonth()+1)<10?'0':'')+''+(now_date.getMonth()+1)+''+(now_date.getDate()<10?'0':'')+''+now_date.getDate();if(selected_date_timestamp<now_date_timestamp)
{for(var h=0;h<=23;h++)
{jQuery('#id_esof_deadline_time option[value="'+h+'"]').prop('disabled',true);}
jQuery('#id_esof_deadline_time option:selected').prop('disabled',false);}
else if(selected_date_timestamp==now_date_timestamp)
{for(var h=0;h<=23;h++)
{jQuery('#id_esof_deadline_time option[value="'+h+'"]').prop('disabled',(h<=now_date.getHours()));}
if(jQuery('#id_esof_deadline_time option:selected').val()<=now_date.getHours())
{jQuery('#id_esof_deadline_time').val(now_date.getHours()+1);}}
else if(selected_date_timestamp>now_date_timestamp)
{for(var h=0;h<=23;h++)
{jQuery('#id_esof_deadline_time option[value="'+h+'"]').prop('disabled',false);}}
return true;};disable_previous_deadline_time();jQuery("#id_esof_pages_qty").ForceNumericOnly();jQuery("#id_esof_subm").click(function(){jQuery('#id_esof_auth_p').val('');var try_login=jQuery("#id_esof_email").val();var form_valid=jQuery("#newOrderFrom").valid();if(form_valid&&try_login!=undefined&&try_login!='')
{if(_this.es_auth==undefined||_this.es_auth==null)
{return false;}
_this.es_auth.init({auto_open:true,disable_close:false,show_link_registration:true,show_link_remind:true,prefix_html:'<p>You already have an account on '+_this.host+', so please enter your password</p>',postfix_html:'',force_user_role:'customer',force_user_login:try_login,on_login_callback:function(data){if(_this.satellite_not_clone&&data.p!=undefined)
{jQuery('#id_esof_auth_p').val(data.p);}
jQuery('#newOrderFrom').submit();},on_logout_callback:null});}
else
{jQuery('#newOrderFrom').submit();}});var aj_esof_validator=jQuery('#newOrderFrom').validate({submitHandler:function(frm){if(_this.satellite_not_clone)
{_this.ajax_before_send_function('#'+_this.container_id);frm.submit();}
else
{_this.submitForm(echoForm);}
return false;},invalidHandler:function(frm,validator){},errorPlacement:function(error,element){var element_name=element.attr("name");element_name=element_name.replace(/\[\]/i,"");if(jQuery("#error_container_"+element_name).length)
{error.appendTo("#error_container_"+element_name);}
else
{error.insertAfter(element);}
jQuery(".error:input:first","#newOrderFrom").focus();},rules:{'esof_email':{required:true,email:true},'esof_paper_type':{required:(jQuery('#id_esof_paper_type').length>0)},'esof_analyze_type':{required:(jQuery('#id_esof_analyze_type').length>0)},'esof_discipline2':{required:(jQuery('#id_esof_discipline').length>0)},'esof_assignment_type_it':{required:(jQuery('#id_esof_assignment_type_it').length>0)},'esof_pages_qty':{digits:true,min:((jQuery('#id_esof_pages_qty').length>0)?1:0),required:(jQuery('#id_esof_pages_qty').length>0)},'esof_deadline_date':{required:(jQuery('#id_esof_deadline_date').length>0)},'esof_deadline_time':{required:(jQuery('#id_esof_deadline_time').length>0)},'esof_translation_lang_from':{required:(jQuery('#id_esof_translation_lang_from').length>0)},'esof_translation_lang_to':{required:(jQuery('#id_esof_translation_lang_to').length>0)},'esof_translation_field':{required:(jQuery('#id_esof_translation_field').length>0)},'esof_name':{required:(jQuery('#id_esof_name').length>0)},'esof_termsagree':{required:(jQuery('#id_esof_termsagree').length>0)}},messages:{'esof_email':{required:'',email:''},'esof_paper_type':{required:''},'esof_analyze_type':{required:''},'esof_discipline2':{required:''},'esof_assignment_type_it':{required:''},'esof_pages_qty':{digits:'',min:'',required:''},'esof_deadline_date':{required:''},'esof_deadline_time':{required:''},'esof_translation_lang_from':{required:''},'esof_translation_lang_to':{required:''},'esof_translation_field':{required:''},'esof_name':{required:''},'esof_termsagree':{required:''}}});var on_show_callback=_this.on_show_callback;if(jQuery.isFunction(on_show_callback))
{on_show_callback();}
return true;}
if(_this.satellite_not_clone)
{var request_url='//'+_this.host+'/bricks/aj_short_order_form.html?callback=?';}
else
{var request_url='/bricks/aj_short_order_form.html';}
var request_data={jqr:1};if(_this.w_id>0)
{request_data.w_id=_this.w_id;}
if(_this.one_hour_deadline)
{request_data.one_hour_deadline=1;}
jQuery.ajax({url:request_url,type:'GET',dataType:_this.satellite_not_clone?'json':'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);_this.callback_function('#'+_this.container_id);},success:function(data){if(_this.satellite_not_clone)
{echoForm(data.data);}
else
{echoForm(data);}}});return true;},submitForm:function(callback){var _this=this;var request_url='/bricks/aj_short_order_form.html';var request_data={};request_data.neworderfrom_submitted=1;request_data.esof_name_submitted=jQuery('#id_esof_name_submitted').val();request_data.esof_email=jQuery('#id_esof_email').val();request_data.esof_paper_type=jQuery('#id_esof_paper_type').val();request_data.esof_paper_lang=jQuery("form [name=esof_paper_lang]:checked").val();request_data.esof_analyze_type=jQuery('#id_esof_analyze_type').val();request_data.esof_discipline2=jQuery('#id_esof_discipline').val();request_data.esof_assignment_type_it=jQuery('#id_esof_assignment_type_it').val();request_data.esof_assignment_type=jQuery('#id_esof_assignment_type_d'+request_data.esof_discipline2).val();request_data['esof_assignment_type_d'+request_data.esof_discipline2]=jQuery('#id_esof_assignment_type_d'+request_data.esof_discipline2).val();request_data['esof_assignment_type_d'+request_data.esof_discipline2+'_txt']=jQuery('#id_esof_assignment_type_d'+request_data.esof_discipline2+'_txt').val();request_data.esof_title=jQuery('#id_esof_title').val();request_data.esof_pages_qty=jQuery('#id_esof_pages_qty').val();request_data.esof_deadline_date=jQuery('#id_esof_deadline_date').val();request_data.esof_deadline_time=jQuery('#id_esof_deadline_time').val();request_data.esof_enot_op=jQuery('#id_esof_enot_op').val();request_data.esof_enot_ua=jQuery('#id_esof_enot_ua').val();request_data.esof_writer_req=jQuery('#id_writer_req').val();request_data.esof_name=jQuery('#id_esof_name').val();request_data.esof_termsagree=jQuery('#id_esof_termsagree').val();request_data.esof_translation_lang_from=jQuery('#id_esof_translation_lang_from').val();request_data.esof_translation_lang_to=jQuery('#id_esof_translation_lang_to').val();request_data.esof_translation_field=jQuery('#id_esof_translation_field').val();request_data.esof_order_text=jQuery('#id_esof_order_text').val();if(_this.one_hour_deadline)
{request_data.one_hour_deadline=1;}
jQuery.ajax({url:request_url,type:'POST',dataType:'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('body');},complete:function(){},success:function(data){if(jQuery.isFunction(callback)){callback(data);}}});},_ajaxBeforeSend:function(selector){if(selector=='body'&&jQuery('#es-overlay').length)
{jQuery('#es-overlay').show().addClass('es-loader es-show');}
else
{jQuery(selector).addClass('es-loader');}},_ajaxComplete:function(selector){if(selector=='body'&&jQuery('#es-overlay').length)
{jQuery('#es-overlay').removeClass('es-loader es-show');}
else
{jQuery(selector).removeClass('es-loader');}},_callback:function(){}};jQuery.fn.ForceNumericOnly=function(){if(!jQuery(this).length){return false;}
jQuery(this).parent().prepend('<div id="contentspin"><button class="dec buttonspin" title="Decrease">-</button></div>');jQuery(this).appendTo("#contentspin");jQuery("#contentspin").append('<button class="inc buttonspin" title="Increase">+</button>');jQuery('#contentspin').find(".buttonspin").click(function(){var button=jQuery(this);var oldValue=parseFloat(button.parent().find("input").val());if(button.text()=="+"){var newVal=++oldValue;}else{if(oldValue>=2){var newVal=--oldValue;}else{var newVal=1}}
button.parent().find("input").val(newVal).trigger('change');return false;});return this.each(function(){jQuery(this).keydown(function(e){var key=e.which||e.keyCode;if(!e.shiftKey&&!e.altKey&&!e.ctrlKey&&key>=48&&key<=57||key>=96&&key<=105||key==8||key==9||key==13||key==35||key==36||key==37||key==39||key==46||key==45)
return true;var oldValue=parseFloat(jQuery(this).val());if(key==38){jQuery(this).val(++oldValue);return false;};if(key==40){if(oldValue>1){jQuery(this).val(--oldValue);};return false;};return false;});});};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_testimonials.js */
var ESTestimonials=function(settings){var settings=settings||{};this.host=document.location.hostname;this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;};ESTestimonials.prototype={populateOnSidebar:function(container_id){var _this=this;var container_html='';container_html+='<div class="side_block" ><a class="readall linka" id="latestorders"  href="/latest-orders.html" title="View all customers\' feedbacks">Read All Testimonials</a>'+"\n";container_html+='<h2>Testimonials</h2>'+"\n";container_html+='<div class="testimomials_sidebar_point center hiden"></div>'+"\n";container_html+='</div>'+"\n";jQuery('#'+container_id).replaceWith(container_html);var onAjaxDone=function(data){jQuery('.testimomials_sidebar_point').replaceWith(data);jQuery('.testimomials_sidebar_point.hiden').slideDown(500);};var request_url='/bricks/aj_testimonials_for_sidebar.html';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#latestorders');},complete:function(){_this.ajax_complete_function('#latestorders');},success:function(data){onAjaxDone(data);}});return true;},populateHorizontalRotator:function(container_id){var _this=this;var container_html='';container_html+='<div class="wrap orders">'+"\n";container_html+=' <h2>Customers\' testimonials</h2>'+"\n";container_html+=' <div class="up hiden"></div>'+"\n";container_html+=' <div class="down hiden"></div>'+"\n";container_html+=' <div class="testimomials_rotator_point"></div>'+"\n";container_html+=' <a href="/latest-orders.html" id="alltest" class="linka serif">View all completed orders</a>'+"\n";container_html+=' <div class="buy otherbuy serif">'+"\n";container_html+='  <h4>Lowest prices on the market</h4>'+"\n";container_html+='  <h2 class="money">Get quality essay without paying upfront</h2>'+"\n";container_html+='  <a href="#newOrderFrom" class="ordernow">Order Now</a>'+"\n";container_html+='  <div class="todo">Submit your instructions to writers for free</div>'+"\n";container_html+=' </div>'+"\n";container_html+='</div>'+"\n";container_html+='<div id="guarantee">Satisfaction Guarantee</div>'+"\n";jQuery('#'+container_id).replaceWith(container_html);var paneTarget=null;var currentPos=1;var cnt=10;var timer=null;var clear=true;var setCurrentLi=function(){jQuery('#pagul li').removeClass('current');jQuery('#li_'+currentPos).addClass('current');};var scrollToEs=function(a){a=jQuery(a).text();currentPos=a;goToOrder();};var goToOrder=function(){var need='div#order_'+currentPos;var target=paneTarget.find(need);paneTarget.stop().scrollTo(target,500,{onAfter:function(){setCurrentLi();}});};var asetClearInterval=function(){clearInterval(timer);if(clear){clear=false;setTimeout(function(){clear=true;timer=setInterval(function(){if(currentPos<=cnt){currentPos++;}
if(currentPos>=cnt+1){currentPos=1;}
goToOrder();clear=true;},4000);},10000)};return false;};var startRotator=function(){timer=setInterval(function(){if(currentPos<cnt){currentPos++;}else{if(currentPos==cnt){currentPos=1;}}
goToOrder();clear=true;},4000);};var stopRotator=function(){clearInterval(timer);timer=null};jQuery('#li_'+currentPos).addClass('current');jQuery('body').on('click','#pagul li',function(){asetClearInterval();scrollToEs(this);});jQuery('body').on('click','.up',function(){if(currentPos>1){currentPos--;}
if(currentPos==1){currentPos=cnt;}
goToOrder();});jQuery('body').on('click','.down',function(){if(currentPos==cnt){currentPos=1;goToOrder();}
else{if(currentPos<cnt){currentPos++;goToOrder();}}});jQuery('.up, .down').hover(function(){asetClearInterval();});jQuery('body').on('hover','#slides .order',function(){stopRotator();});jQuery('body').on('mouseleave','#slides',function(){startRotator();});jQuery('body').on('click','.ordernow',function(){jQuery('#bodystart').scrollTo(jQuery('#newOrderFrom'),800,{over:{top:-0.15},onAfter:function(){jQuery("#es_form_esof").animate({backgroundColor:'#ffffff'},300).animate({backgroundColor:'#FEC600'},300).animate({backgroundColor:'#FFFFFF'},300).animate({backgroundColor:'#FEC600'},300);jQuery("#newOrderFrom input:text:visible:first").focus();}});return false;});var onAjaxDone=function(data){jQuery('.testimomials_rotator_point').replaceWith(data);paneTarget=jQuery('#slides');jQuery('.up.hiden, .down.hiden').show(1000);startRotator();};var request_url='/bricks/aj_testimonials_for_rotator.html';var request_data={};jQuery.ajax({url:request_url,type:'GET',dataType:'html',data:request_data,beforeSend:function(){_this.ajax_before_send_function('.testimomials_rotator_point');},complete:function(){_this.ajax_complete_function('.testimomials_rotator_point');},success:function(data){onAjaxDone(data);}});return true;},getDataForHorizontalRotator:function(callback_func){var _this=this;var request_url='/bricks/aj_testimonials_data.html';var request_data={format:'json'};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('.testimomials_rotator_point');},complete:function(){_this.ajax_complete_function('.testimomials_rotator_point');},success:function(data){if(jQuery.isFunction(callback_func)){callback_func(data);}}});return true;},_ajaxBeforeSend:function(selector){jQuery(selector).addClass('es-loader');},_ajaxComplete:function(selector){jQuery(selector).removeClass('es-loader');}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_auth_remind.js */
var ESAuthRemind=function(settings){var settings=settings||{};this.host=settings.host||document.location.hostname;this.container_id=settings.container_id||'id_current_auth_remind_container';this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;};ESAuthRemind.prototype={init:function(){var code=this._get_url_parameter('code');if(code!=null)
{this.showStep2Form(code);}
else
{this.showStep1Form();}
return true;},showStep1Form:function(){var _this=this;var echoForm=function(data){if(data==undefined)
{return false;}
jQuery('#'+_this.container_id).empty();jQuery('#'+_this.container_id).html(data);var aj_auth_remind_validator=jQuery('#esauth_password_reset_form').validate({submitHandler:function(frm){_this._send_change_request1(echoForm);return false;},invalidHandler:function(frm,validator){},rules:{'login':{required:true,email:true},'captcha':{required:true}},messages:{'login':{required:__('This field is required'),email:__('Incorrect e-mail')},'captcha':{required:__('This field is required')}}});return true;}
var request_url='https://'+_this.host+'/auth/aj_remind_form1.html?callback=?';var request_data={jqr:1};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){echoForm(data.data);jQuery('#id_esauth_password_reset_form_login').focus();}});},showStep2Form:function(code){var _this=this;var echoForm=function(data){if(data==undefined)
{return false;}
jQuery('#'+_this.container_id).empty();jQuery('#'+_this.container_id).html(data);var aj_auth_remind_validator=jQuery('#esauth_password_set_form').validate({submitHandler:function(frm){_this._send_change_request2(echoForm);return false;},invalidHandler:function(frm,validator){},rules:{'p':{required:true,minlength:7},'p_re':{required:true,equalTo:"#id_esauth_password_set_form_p"}},messages:{'p':{required:__('The Password field is required.'),minlength:__('The Password field must contain at least 7 chatacters')},'p_re':{required:__('The Password confirmation field is required'),equalTo:__('The passwords do not match. Please reenter.')}}});return true;}
var request_url='https://'+_this.host+'/auth/aj_remind_form2.html?callback=?';var request_data={code:code,jqr:1};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){echoForm(data.data);}});},_send_change_request1:function(callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_remind_form1.html?callback=?';var request_data={login:jQuery('#id_esauth_password_reset_form_login').val(),captcha:jQuery('#id_esauth_password_reset_form_captcha').val(),esauth_password_reset_form_submitted:1,jqr:1};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){if(jQuery.isFunction(callback)){callback(data.data);}}});},_send_change_request2:function(callback){var _this=this;var request_url='https://'+_this.host+'/auth/aj_remind_form2.html?callback=?';var request_data={code:jQuery('#id_esauth_password_set_form_code').val(),p:jQuery('#id_esauth_password_set_form_p').val(),p_re:jQuery('#id_esauth_password_set_form_p_re').val(),esauth_password_set_form_submitted:1,jqr:1};jQuery.ajax({url:request_url,type:'GET',dataType:'json',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){if(jQuery.isFunction(callback)){callback(data.data);}}});},_get_url_parameter:function(name){return decodeURIComponent((new RegExp('[?|&]'+name+'='+'([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g,'%20'))||null;},_ajaxBeforeSend:function(selector){jQuery(selector).addClass('es-loader');},_ajaxComplete:function(selector){jQuery(selector).removeClass('es-loader');}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_vars.js */
var ESVars=function(settings){var settings=settings||{};this.host=settings.host||document.location.hostname;this.ajax_before_send_function=settings.ajax_before_send_function||this._ajaxBeforeSend;this.ajax_complete_function=settings.ajax_complete_function||this._ajaxComplete;};ESVars.prototype={populate:function(container_id,key,container_type){var _this=this;if(container_type==undefined)
{container_type='html';}
var onAjaxDone=function(data){if(data==undefined)
{return false;}
if(container_type=='html')
{jQuery('#'+container_id).html(data);}};var request_url='//'+_this.host+'/bricks/es_var.html';var request_data={key:key};jQuery.ajax({url:request_url,type:'GET',dataType:'text',data:request_data,beforeSend:function(){_this.ajax_before_send_function('#'+_this.container_id);},complete:function(){_this.ajax_complete_function('#'+_this.container_id);},success:function(data){onAjaxDone(data);}});return true;},_ajaxBeforeSend:function(selector){jQuery(selector).addClass('es-loader');},_ajaxComplete:function(selector){jQuery(selector).removeClass('es-loader');}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_topwriters.js */
window.ESTopWriters=function(){};window.ESTopWriters.prototype={TEMPLATE:'',render:function(postCallback,preCallback){this.postCallback=postCallback;this.preCallback=preCallback;var request_url='/bricks/aj_topwriters.html';var request_data={};var _this=this;if(typeof(window.location.href)=='string')
{request_data.parent=window.location.href;}
jQuery.ajax({url:request_url,type:'GET',dataType:'JSON',data:request_data,beforeSend:function(){return _this.beforeSend.apply(_this,arguments);},complete:function(){return _this.afterSend.apply(_this,arguments);},success:function(){_this.success.apply(_this,arguments);}});},beforeSend:function(){},afterSend:function(){},success:function(data){var html=[];var size=data.writers.length;if(data&&data.writers){for(var i=0;i<size;++i){var item=data.writers[i];data.writers[i].position=data.writers[i].position;if(this.preCallback)
item=this.preCallback.call(this,item,i,data);html.push(this.applyDataToTemplate(item,ESTopWriters.prototype.TEMPLATE));}}
if(this.postCallback)
return this.postCallback.call(this,html.join(''),data);},applyDataToTemplate:function(writer,template){for(var prop in writer){template=template.replace('{'+prop+'}',writer[prop]);}
return template;}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_topwriters_template.js */
window.ESTopWriters.prototype.TEMPLATE=['<div class="top-writers-item">','<a href="/writer.html?id={pen_name_slug}" class="tw-item-href">','<div class="tw-writer-position green-color font-18 bold">{position}</div>','<div class="tw-writer-info">','<img src="{avatar}" alt="Writer\'s avatar" class="tw-writer-avatar">','<div class="tw-writer-short">','<h4 class="tw-writer-name title-color bold font-13">{pen_name}</h4>','<h5 class="tw-writer-status {online_status} font-16 green-color">{online_status_text}</h5>','</div>','</div>','<div class="tw-writer-work">','<div class="tw-writer-completed title-color">{orders_finished_qty} '+__('completed orders')+'</div>','<div class="tw-writer-rating tw-rating">','<span class="tw-writer-rating-block tw-rating-number">','<span class="tw-writer-rating-number">{rating_number}</span>','<span class="tw-writer-rating-from">/10</span>','</span>','<div class="tw-rating-icon-grey">','<div class="tw-current-rating tw-rating-icon-orange" style="width: {rating_writer}px;"></div>','</div>','</div>','</div>','<div class="tw-writer-award">','<div class="tw-tripleten award-{tripleten}" data-qty="{tripleten_qty}"></div>','<div class="tw-nineplus award-{nineplus}"></div>','<div class="tw-punctuality award-{punctuality}"></div>','<div class="tw-reliability award-{reliability}"></div>','<div class="tw-newcomer award-{newcomer}"></div>','<div class="tw-monthwriter award-{writermonth}"></div>','<div class="tw-loyalty award-{loyalty}"></div>','</div>','</a>','</div>'].join('');

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_latest_orders.js */
window.ESLatestOrders=function(){};window.ESLatestOrders.prototype={TEMPLATE:'',render:function(postCallback,preCallback,request_url){this.postCallback=postCallback;this.preCallback=preCallback;if(!request_url){var request_url='/bricks/aj_latest_orders.html';}
var _this=this;jQuery.ajax({url:request_url,type:'GET',dataType:'json',beforeSend:function(){return _this.beforeSend.apply(_this,arguments);},complete:function(){return _this.afterSend.apply(_this,arguments);},success:function(){_this.success.apply(_this,arguments);},error:function(){}});},beforeSend:function(){},afterSend:function(){},success:function(data){var html=[];if(data&&data.orders){for(var i=0;i<data.orders.length;++i){var item=data.orders[i];if(this.preCallback)
item=this.preCallback.call(this,item,i,data);html.push(this.applyDataToTemplate(item,window.ESLatestOrders.prototype.TEMPLATE));}}
if(this.postCallback)
return this.postCallback.call(this,html.join(''),data);},getPageFromUrl:function(){var peirs=window.location.search.substring(1);peirs=peirs.split('&');for(var i=0;i<peirs.length;++i){var peir=peirs[i].split('=');if(peir[0]==='eslopage'){return peir[1];}}
return null;},applyDataToTemplate:function(order,template){for(var prop in order){template=template.replace('{'+prop+'}',order[prop]);}
return template;}};

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_latest_orders_template.js */
window.ESLatestOrders.prototype.TEMPLATE=['<div class="latest-orders-item">','<div class="lo-writer-block">','<a href="/writer.html?id={writer_pen_name_slug}" class="lo-writer-block-href">','<img src="{writer_avatar}" alt="'+__('Writer\'s avatar')+'" class="lo-writer-avatar">','<div class="lo-writer-short">','<h4 class="lo-writer-name">{writer_pen_name}</h4>','<div class="lo-writer-award lo-award-status-{writer_award_qty}" title="'+__('Writer has award')+'"></div>','</div>','<div class="lo-writer-rating lo-rating">','<div class="lo-rating-icon-grey">','<div class="lo-current-rating lo-rating-icon-orange" style="width: {writer_rating}px;"></div>','</div>','<span class="lo-writer-rating-block lo-rating-number">','<span class="lo-writer-rating-number">{writer_rating_number}</span>','<span class="lo-writer-rating-from">/10</span>','</span>','</div>','<div class="lo-writer-orders">{writer_orders_qty} '+__('completed orders')+'</div>','</a>','</div>','<div class="lo-customer-block">','<div class="lo-testimonial-header">','<div class="lo-order-header-desc">','<span class="lo-order-id">#{order}, </span>','<span class="lo-order-type">{order_paper_type}, {discipline_title}, {order_pages_qty} '+__('pages')+'</span>','<span class="lo-order-time-date">','<span class="lo-order-time">{finish_dt_time}&nbsp;</span>','<span class="lo-order-date">{finish_dt_date}</span>','</span>','</div>','<h3 class="lo-order-title">{order_title}</h3>','</div>','<div class="lo-testimonial-body">','<h5 class="lo-customer-title">'+__('Customer\'s feedback')+':</h5>','<div class="lo-customer-rating lo-rating">','<div class="lo-rating-icon-grey">','<div class="lo-current-rating lo-rating-icon-orange" style="width:{rating_writer}px;"></div>','</div>','<span class="lo-customer-rating-block lo-rating-number">','<span class="lo-customer-rating-number">{rating_writer_number}</span>','<span class="lo-customer-rating-from">/10</span>','</span>','</div>','<p class="lo-customer-comment">{rating_writer_comments}</p>','</div>','<div class="lo-writer-feedback-block">','<h5 class="lo-to-customer-title">'+__('Writer\'s feedback')+':</h5>','<div class="lo-to-customer-rating lo-rating">','<div class="lo-rating-icon-grey">','<div class="lo-current-rating lo-rating-icon-orange" style="width:{rating_customer}px;"></div>','</div>','<span class="lo-to-customer-rating-block lo-rating-number">','<span class="lo-customer-rating-number">{customer_rating_number}</span>','<span class="lo-customer-rating-from">/10</span>','</span>','</div>','<p class="lo-writer-comment">{rating_customer_comments}</p>','</div>','<div class="lo-writer-feedback-button">','<div class="lo-show-writer-feedback">'+__('Show writer\'s comment')+'</div>','<div class="lo-writer-feedback-line"></div>','</div>','</div>','</div>'].join('');

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_writer_profile.js */
;(function(){window.ESWriterProfile=function(){};window.ESWriterProfile.prototype={TEMPLATE:'',TEMPLATE_ORDERS:'',TEMPLATE_DISCIPLINES:'',PAGINATION_TEMPLATE:'<a href="#{index}" class="pagination-item {current_class}">{title}</a>&nbsp;',PAGINATION_PREV:'<a href="#{target_prev}" class="wrp-pagination-control wrp-prev-control {prev_status_class}">Prev</a>',PAGINATION_NEXT:'<a href="#{target_next}" class="wrp-pagination-control wrp-next-control {next_status_class}">Next</a>',render:function(postCallback,preCallback){this.postCallback=postCallback;this.preCallback=preCallback;var page=this.getParamFromUrl('page');var id=this.getParamFromUrl('id');var request_url='/bricks/aj_writer_profile.html';var changeSeparator=false;if(page!==null){request_url+='?page='+page;changeSeparator=true;}
if(id!==null){request_url+=changeSeparator?'&':'?';request_url+='id='+id;}
var request_data={};var _this=this;jQuery.ajax({url:request_url,type:'GET',dataType:'JSON',data:request_data,beforeSend:function(){return _this.beforeSend.apply(_this,arguments);},complete:function(){return _this.afterSend.apply(_this,arguments);},success:function(){_this.success.apply(_this,arguments);}});},beforeSend:function(){},afterSend:function(){},success:function(data){var profile=data.profile;var pagination=[];var html=ESWriterProfile.prototype.TEMPLATE;var template;var profileChanged;var part=[];var item;if(profile){if(this.preCallback){profileChanged=this.preCallback.call(this,profile,data);if(profileChanged)
profile=profileChanged;}
for(var prop in profile){switch(prop){case'awards':template=ESWriterProfile.prototype.TEMPLATE_AWARDS;part=[];for(var i=0;i<profile[prop].length;++i){item=template;for(var innerPro in profile[prop][i]){var oldStr='';var newStr=item;while(oldStr!=newStr){oldStr=newStr
newStr=newStr.replace('{'+innerPro+'}',profile[prop][i][innerPro]);}
item=newStr}
part.push(item);}
html=html.replace('{'+prop+'}',part.join(''));break;break;case'orders':template=ESWriterProfile.prototype.TEMPLATE_ORDERS;part=[];for(var j in profile.orders){profile.orders[j]['order-id']=profile.orders[j]['id'];}
for(var i=0;i<profile[prop].length;++i){item=template;for(var innerPro in profile[prop][i]){item=item.replace('{'+innerPro+'}',profile[prop][i][innerPro]);}
part.push(item);}
html=html.replace('{'+prop+'}',part.join(''));break;case'orders_completed_in_disceplines':template=ESWriterProfile.prototype.TEMPLATE_DISCIPLINES;part=[];for(var i=0;i<profile[prop].length;++i){item=template;for(var innerPro in profile[prop][i]){item=item.replace('{'+innerPro+'}',profile[prop][i][innerPro]);if(profile[prop][i].hide){item='';}}
part.push(item);}
html=html.replace('{'+prop+'}',part.join(''));break;default:var oldStr='';var newStr=html;while(oldStr!=newStr){oldStr=newStr;newStr=newStr.replace('{'+prop+'}',profile[prop]);}
html=newStr;break;}}}else{var template=ESWriterProfile.prototype.TEMPLATE_NOTCOOPERATING;html=template;}
if(data&&data.pagination&&data.pagination.pages){console.log(3);var len=data.pagination.pages.length;for(var i=0;i<len;++i){var item=data.pagination.pages[i];item.current_class='';if(item.current)
item.current_class='current-page';pagination.push(this.applyDataToTemplate(item,ESWriterProfile.prototype.PAGINATION_TEMPLATE));}
if(data.pagination.cur<data.pagination.num){pagination.target_prev=data.pagination.cur;pagination.prev_status_class='';}else{pagination.target_prev='';pagination.prev_status_class='wrp-disable';}
if(data.pagination.cur>0){pagination.target_next=data.pagination.cur-2;pagination.next_status_class='';}else{pagination.target_next='';pagination.next_status_class='wrp-disable';}
pagination.unshift(this.applyDataToTemplate(pagination,window.ESWriterProfile.prototype.PAGINATION_PREV));pagination.push(this.applyDataToTemplate(pagination,window.ESWriterProfile.prototype.PAGINATION_NEXT));}
pagination=['<','div class="writer-profile-pagination">',pagination.join(''),'<','/div>'].join('');$(window.document).on('click','.writer-profile-pagination a',function(e){var target=$(e.target);var index=target.attr('href').substring(1);var peirs=window.location.search.substring(1);peirs=peirs.split('&');var new_peirs=[];for(var i=0;i<peirs.length;++i){var peir=peirs[i].split('=');if(peir[0]==='page')
continue;new_peirs.push(peirs[i]);}
var separator='?';new_peirs.push('page='+index);var new_url=window.location.pathname+separator+new_peirs.join('&');window.location.href=new_url;return false;});if(this.postCallback)
return this.postCallback.call(this,html,pagination,data);},getParamFromUrl:function(name){var pairs=window.location.search.substring(1);var pair;pairs=pairs.split('&');for(var i=0;i<pairs.length;++i){pair=pairs[i].split('=');if(pair[0]===name)
return pair[1];}
return null;},applyDataToTemplate:function(data,template){for(var prop in data)
template=template.replace('{'+prop+'}',data[prop]);return template;}};})();

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_writer_profile_template.js */
window.ESWriterProfile.prototype.TEMPLATE=['<h2 class="header-page font-26">'+__('Information about writer')+' <span class="wrp-writer-name bold">{pen_name}</span></h2>','<div class="writer-profile">','<div class="wp-info box">','<div class="wp-writers-card box">','<img class="wp-writer-avatar" alt="'+__('Writer\'s avatar')+'" src="{avatar}">','<b class="wp-writer-name">{pen_name}</b>','<div class="wp-rating">','<div class="wp-award" title="Writer has award"></div>','<div class="wp-rating-icon-grey">','<div class="wp-current-rating wp-rating-icon-orange"></div>','</div>','<span class="wp-rating-number">{rating}</span>','</div>','<div class="wp-request-writer" title="'+__('Create new order and request this writer to completed it')+'">'+__('Request this writer')+'</div>','</div>','<dl class="wp-statistics box">','<dt class="wp-statistics-title">'+__('Writer\’s rating')+'</dt>','<dd class="wp-statistics-data"><span class="rating">{rating}</span></dd>','<dt class="wp-statistics-title">'+__('Orders finished')+'</dt>','<dd class="wp-statistics-data"><span class="finished">{completed_orders}</span></dd>','<dt class="wp-statistics-title">'+__('Orders canceled by this writer')+'</dt>','<dd class="wp-statistics-data"><span class="canceled1">{orders_canceled_by_writer}</span></dd>','<dt class="wp-statistics-title">'+__('Orders canceled by customers')+'</dt>','<dd class="wp-statistics-data"><span class="canceled2">{orders_canceled_by_customer}</span></dd>','<dt class="wp-statistics-title">'+__('Orders in progress')+'</dt>','<dd class="wp-statistics-data"><span class="active">{orders_in_progress}</span></dd>','</dl>','</div>','<div class="wp-awards-disciplines">','<div class="wp-awards-list">','<h3 class="wp-subheader">'+__('Awards')+'</h3>{awards}</div>','<div class="wp-disciplines">','<h3 class="wp-subheader">'+__('Orders completed in disciplines')+'</h3>','<ul class="wp-disciplines-list">{orders_completed_in_disceplines}</ul>','</div>','</div>','<h2 class="header-page font-26">'+__('Writer\'s orders')+':</h2>','<div class="wp-orders-list">{orders}</div>','</div>'].join('');window.ESWriterProfile.prototype.TEMPLATE_ORDERS=['<div class="wp-order" id="order-{order-id}">','<div class="wp-order-header">','<h3 class="wp-order-title">{title}</h3>','<span class="order-status-mark status-{statusClass}">{status}</span>','</div>','<div class="wp-order-description">','<span class="wp-order-id">#{id}</span>','<span class="wp-order-type">{paper_type}, <span class="wp-order-discipline">{discipline_title}</span>, <span class="wp-order-pages">{pages} '+__('pages')+'</span></span>','<span class="wp-order-time-date">{created_at}</span>','</div>','<div class="wp-feedback">','<div class="wp-customer-feedback">','<h5 class="wp-comment-title">'+__('Customer’s feedback')+':</h5>','<div class="wp-customer-rating">','<div class="wp-rating-icon-grey">','<div class="wp-current-rating wp-rating-icon-orange"></div>','</div>','<div class="wp-customer-rating-block">','<span class="wp-customer-rating-number">{rating_writer}</span>','<span class="wp-customer-rating-from">/10</span>','</div>','</div>','<div class="wp-customer-comment">{customer_feedback}</div>','</div>','<div class="wp-writer-feedback">','<h5 class="wp-comment-title">'+__('Writer’s comment')+':</h5>','<div class="wp-to-customer-rating">','<div class="wp-rating-icon-grey">','<div class="wp-current-rating wp-rating-icon-orange"></div>','</div>','<div class="wp-to-customer-rating-block">','<span class="wp-customer-rating-number">{rating_customer}</span><span class="wp-customer-rating-from">/10</span>','</div>','</div>','<div class="wp-writer-comment">{writer_comment}</div>','</div>','</div>','</div>'].join('');window.ESWriterProfile.prototype.TEMPLATE_DISCIPLINES=['<li><span>{title}: <b>{qty}</b></span></li>'].join('');window.ESWriterProfile.prototype.TEMPLATE_AWARDS=['<div class="wp-award-box {slug}">','<div class="wp-award-content">','<div class="wp-award-name">{title} <span class="wp-award-num">× {qty}</span></div>','<div class="wp-award-descr">{details}</div>','<div class="wp-last-awarded">'+__('Last awarded')+': <span class="wp-last-date">{create_dt}</span></div>','</div>','</div>'].join('');window.ESWriterProfile.prototype.TEMPLATE_NOTCOOPERATING=['<h2 class="header-page font-26">'+__('Information about writer')+'</h2>','<div class="writer-profile">','<div class="wp-info box">'+__('The writer is not cooperating with our company at the moment.')+'</div>','</div>'].join('');

/* JS merged. Author(s), copyright, license see in /w3t_js/_custom/es_first_visit_tracking.js */
var ESFirstVisitTracking=function(settings){this.cookie_name='ref';};ESFirstVisitTracking.prototype={init:function(name){var _this=this;var fvt_cookie_value=_this.getCookie();if(fvt_cookie_value==null||fvt_cookie_value==undefined)
{_this.setCookie();}
return true;},setCookie:function(callback){var request_url='/bricks/aj_fvt.html';var request_data={fvt_page:document.location.href,fvt_referer:document.referrer,fvt_agent:navigator.userAgent};jQuery.ajax({url:request_url,type:'POST',dataType:'html',data:request_data,success:function(data){if(jQuery.isFunction(callback)){callback(data);}}});},getCookie:function(){var _this=this;var nameEQ=escape(_this.cookie_name)+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return unescape(c.substring(nameEQ.length,c.length));}}
return null;}};

window.translationMap = {"My Account":null,"Stay signed in":null,"Login":null,"Registration":null,"Sign into your account":null,"Forgot Password":null,"Password":null,"E-mail":null,"My Orders":null,"Pages":null,"Close":null,"Upload":null,"Please fill out the evaluation form first":null,"Please rate the quality of paper you received":null,"Very poor":null,"Average":null,"Good":null,"Perfect":null,"Fair":null,"Almost good":null,"Excellent":null,"Not that bad":null,"Poor":null,"Very good":null,"Ok":null,"1 Very poor":null,"words":null,"Clear request":null,"Please select the deadline first":null,"Save & reserve money":null,"Hide description":null,"Read about featured orders":null,"Cancel":null,"now":null,"Approve & Release Final Payment":null,"Delete":null,"information":null,"Save deadline":null,"Information":null,"This bid has been rejected by writer.":null,"This bid has been changed by writer.":null,"Please fill the form first":null,"This field is required":null,"Incorrect e-mail":null,"Log Out":null,"Logout":null,"Save changes":null,"Please, choose file":null,"Incorrect password.":null,"Your E-mail":null,"Your e-mail":null,"Select type of paper":null,"Writer has award":null,"Writer's avatar":null,"completed orders":null,"pages":null,"Show writer's comment":null,"Writer's feedback":null,"Customer's feedback":null,"Writer\u2019s rating":null,"Request this writer":null,"Orders finished":null,"Orders in progress":null,"Create new order and request this writer to completed it":null,"Information about writer":null,"Orders canceled by customers":null,"Writer's orders":null,"Orders canceled by this writer":null,"Last awarded":null,"Awards":null,"Writer\u2019s comment":null,"The writer is not cooperating with our company at the moment.":null,"Customer\u2019s feedback":null,"Orders completed in disciplines":null,"There are no available writers":null,"Try changing the number of completed orders or the discipline.":null,"Hidden by customer":null,"Error. Incorrect email or email already exist in our DB.":null,"The Password field must contain at least 7 chatacters":null,"The Password field is required.":null,"The Password confirmation field is required":null,"The passwords do not match. Please reenter.":null,"Writer":null,"estimation":null,"hieroglyphs":null}; window.translationLanguage = "en";window['__'] = function (source){
	if (typeof window.translationMap !== 'undefined'){
		if (window.translationMap[source]){
			return window.translationMap[source];
		} 
		else if (window.translationLanguage !== 'en' && window.translationMap[source] !== null){
			jQuery.post('/bricks/js_translation.html', {message: source});
		}
	}
	return source;
};
	
jQuery(document).ready(function() {
	// console.log(typeof ESFirstVisitTracking);
	if (typeof ESFirstVisitTracking == 'function') {
		var es_fvt = new ESFirstVisitTracking();
		es_fvt.init();
	}
});


/* Type: c */
